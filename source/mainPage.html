<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>

    <meta charset="utf-8" />
    <title>Password manager</title>
    <link rel="stylesheet" href="./mainStyles.css">
    <script type="text/javascript" src="./mainScript.js"></script>

</head>




<script type="text/javascript">


function download() {        
    const objAnchorTag = document.getElementById('_download');
    var objBlob = null;
    var strName = 'Wibble.txt';
    var strContents = 'The cat sat on the mat.';
    if (objAnchorTag != null) {
        objBlob = new Blob([strContents], { type: 'text/plain' });

        objAnchorTag.href = URL.createObjectURL( objBlob );
        objAnchorTag.download = strName;
        objAnchorTag.click();
    } //if
}

function downloadJson() {
    
return true;
}
</script>



<body>




    <a style="position:absolute; left:-999px;" href="" id="_download">THIS ELEMENT IS HIDDEN</a>
    <button onclick="download();">Create file</button>


    <h1 class="poshBox">Password Manager</h1>

    <br>

    <div id="mainMenu" class="poshBox">
        <button onclick="setLogin()">Login</button>
        <br>
        <br>
        <button onclick="setCreate()">Create</button>
    </div>




    <div id="createBox" class="poshBox">
        <div>
            <label for="newPWInput">New password:</label>
            <input type="password" id="newPWInput" placeholder="Enter password" onkeyup="checkNewPWValid()">
        </div>
        <div>
            <label for="confirmPWInput">Confirm password:</label>
            <input type="password" id="confirmPWInput" placeholder="Enter password" onkeyup="checkNewPWValid()">
        </div>
        <button onclick="setNewPW()" id="createAccountButton" disabled>Create</button>
        <button onclick="setMain()">Back</button>



        <p id="pwMismatch" class="passwordAlert">Passwords do not match.</p>
        <p id="pwTooShort" class="passwordAlert">Password must be at least 10 characters long.</p>
        <p id="invalidChars" class="passwordAlert">Password must not contain any special characters.</p>
        <p id="noNumber" class="passwordAlert">Password must contain at least 1 number.</p>

    </div>




    <div id="loginBox" class="poshBox">
        <div>


            <input type="file" id="fileInput">
            <hr>
            <label for="pwInput">Password:</label>
            <input type="password" id="pwInput" placeholder="Enter password." onkeyup="checkPWValid()">


        </div>

        <button onclick="checkPWIn()" id="logInButton" disabled>Log-in</button>
        <button onclick="setMain()">Back</button>

    </div>



    <br>
    <br>





    <div class="passwordBox" id="passwordBox">





        <div>
            <a href="path_to_file" class="download" download="passwords.json">Download JSON</a>
            <button onclick="downloadJson();">Download JSON</button>
            <hr>
            <button onclick="createAccountBox();">Add</button>
            <button onclick="saveAccounts();">Save</button>
            <button onclick="setMain();">Back</button>
        </div>

    </div>



    <!--               JS                   -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.0.0/crypto-js.min.js"></script>
    <script type="text/javascript">Window.onload = setMain();</script>

</body>
</html>
    